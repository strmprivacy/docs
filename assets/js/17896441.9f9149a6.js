"use strict";(self.webpackChunkend_user_docs=self.webpackChunkend_user_docs||[]).push([[7918],{8573:(e,t,l)=>{l.d(t,{Z:()=>d});var a=l(7294),r=l(814),n=l(1262);const c=new RegExp("^v\\d+\\.\\d+\\.\\d+$");function o(e,t,l){return l.includes(e)?"":"<"+t.toUpperCase().replaceAll(/(?:^\s?|\s*?[.!?]+$|[()])/g,"").replaceAll(/\s/g,"_")+">"}function s(e,t){if(e.download){const l=new Blob([t],{type:"text/plain"});return a.createElement("div",{className:"code-block-footer-download"},a.createElement("a",{target:"_blank",href:window.URL.createObjectURL(l),download:e.download},"Download file"))}return a.createElement(a.Fragment,null)}function d(e){let{children:t,...l}=e;if(l.placeholders){let{metaStringBeforePlaceholderMarker:e,metaStringAfterPlaceholderMarker:d,emptyPlaceholders:i}=function(e){let[t,l]=e.metastring.split(/\s?placeholders\s/),a=[];if(l.includes("empty_placeholders")){const e=new RegExp("(?:empty_placeholders)=(.*?)\\s(.*)","g").exec(l);e.length>1&&(a+=e[1].split(","),l=e[2])}return{metaStringBeforePlaceholderMarker:t,metaStringAfterPlaceholderMarker:l,emptyPlaceholders:a}}(l),u=Object.fromEntries(d.replaceAll(/,\s?/g,",").split(",").map((e=>e.split("="))).map((e=>{let[t,l]=e;return[t,{description:l,inputPlaceholder:o(t,l,i),isExternalData:l.startsWith("https://"),fetched:!1}]}))),h=function(e,t,l){let a={...e};return Object.entries(e).forEach((e=>{let[l,r]=e;t.includes(l)&&delete a[l]})),a.metastring=l,a.className=a.className+" with-footer",a}(l,d,e),{placeholderValues:m,handleChange:p}=function(e){let t=Object.fromEntries(Object.entries(e).map((e=>{let[t,l]=e;return l.isExternalData?[t,{value:"<FETCHING>",fetched:!1}]:[t,{value:l.inputPlaceholder,fetched:!0}]}))),[l,r]=(0,a.useState)(t);const n=(e,t)=>{let a={...l};delete a[e],a[e]={value:t.target.value,fetched:!0},r({...a})};return Object.entries(e).filter((e=>{let[t,l]=e;return l.isExternalData})).sort(((e,t)=>{let[l,a]=e,[r,n]=t;return l.localeCompare(r)})).map((e=>{let[t,r]=e;(0,a.useEffect)((()=>{if(!l[t].fetched){const[e,l]=r.description.split("#");fetch(e).then((e=>e.json())).then((e=>e[l])).then((e=>null!=e.match(c)?e.substring(1):e)).then((e=>{n(t,{target:{value:e}})}))}}))})),{placeholderValues:l,handleChange:n}}(u),f=function(e,t,l,r){let n=[];return Object.entries(t).filter((e=>{let[t,l]=e;return!l.isExternalData})).forEach((c=>{let[o,s]=c;const d=l[o].value===s.inputPlaceholder?"":l[o].value,i="$"+o;let u=null!=e.match(new RegExp("\\"+i+"\\b"));n.push(a.createElement("div",{className:"code-block-placeholder",key:o},a.createElement("label",{className:"code-block-placeholder-element",for:"placeholder-"+o},a.createElement("b",null,t[o].description),a.createElement("input",{type:"text",className:"code-block-placeholder-element",id:"placeholder-"+o,placeholder:u?s.inputPlaceholder:"Unused placeholder. Use it with "+i+" in the code block.",disabled:!u,value:d,onChange:e=>r(o,e)}))))})),n}(t,u,m,p),E=function(e,t,l){let a=e;return Object.entries(t).forEach((e=>{let[t,r]=e;const n="$"+t;if(a.includes(n)){const e=0===r.value.length?l[t].inputPlaceholder:r.value;a=a.replaceAll(n,e)}})),a}(t,m,u);return a.createElement(a.Fragment,null,a.createElement(r.Z,h,E),a.createElement(n.Z,{fallback:a.createElement("div",null,"Loading...")},(()=>a.createElement("div",{className:"code-block-footer"},a.createElement("p",null,a.createElement("b",null,"Placeholders")),a.createElement("div",{className:"code-block-placeholder-footer"},f),s(l,E)))))}if(l.download){let e={...l};return e.className=e.className+" with-footer",a.createElement(a.Fragment,null,a.createElement(r.Z,e,t),a.createElement(n.Z,{fallback:a.createElement("div",null,"Loading...")},(()=>a.createElement("div",{className:"code-block-footer"},s(l,t)))))}return a.createElement(a.Fragment,null,a.createElement(r.Z,l,t))}}}]);
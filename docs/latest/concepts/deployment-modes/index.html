<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-concepts/deployment-modes/index">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">Deployment Modes | STRM Privacy Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.strmprivacy.io//docs/latest/concepts/deployment-modes/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Deployment Modes | STRM Privacy Documentation"><meta data-rh="true" name="description" content="To understand the various ways STRM Privacy can be deployed, first, the separation between Data Plane and Control Plane"><meta data-rh="true" property="og:description" content="To understand the various ways STRM Privacy can be deployed, first, the separation between Data Plane and Control Plane"><link data-rh="true" rel="icon" href="/img/favicon.svg"><link data-rh="true" rel="canonical" href="https://docs.strmprivacy.io//docs/latest/concepts/deployment-modes/"><link data-rh="true" rel="alternate" href="https://docs.strmprivacy.io//docs/latest/concepts/deployment-modes/" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.strmprivacy.io//docs/latest/concepts/deployment-modes/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://M24OHV52F0-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="STRM Privacy Documentation" href="/opensearch.xml">

<script src="https://plausible.io/js/plausible.js" defer="defer" data-domain="docs.strmprivacy.io"></script><link rel="stylesheet" href="/assets/css/styles.aba44b5d.css">
<link rel="preload" href="/assets/js/runtime~main.aa613385.js" as="script">
<link rel="preload" href="/assets/js/main.e74abc3b.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" target="_self" href="/"><div class="navbar__logo"><img src="https://storage.googleapis.com/strm-media/strm-logo-orange-slim.svg" alt="STRM Privacy Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="https://storage.googleapis.com/strm-media/strm-logo-orange-slim.svg" alt="STRM Privacy Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/latest/overview/">Docs</a><a href="https://join.strm.team/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Hiring!</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/strmprivacy" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/latest/overview/">STRM Privacy</a><button aria-label="Toggle the collapsible sidebar category &#x27;STRM Privacy&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/latest/concepts/data-processing/pii-field-encryption/">Concepts</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/latest/concepts/data-processing/pii-field-encryption/">Data Processing</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/latest/concepts/data-contracts/">Data Contracts</a><button aria-label="Toggle the collapsible sidebar category &#x27;Data Contracts&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible menu__list-item-collapsible--active"><a class="menu__link menu__link--sublist menu__link--active" aria-current="page" aria-expanded="true" tabindex="0" href="/docs/latest/concepts/deployment-modes/">Deployment Modes</a><button aria-label="Toggle the collapsible sidebar category &#x27;Deployment Modes&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/latest/concepts/deployment-modes/saas/">SaaS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/latest/concepts/deployment-modes/ccd/">Customer Cloud Deployments</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/latest/concepts/data-connectors/">Data Connectors</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/latest/concepts/rbac/">Role-Based Access Control (RBAC)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/latest/concepts/definitions/">Definitions</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/latest/quickstart/streaming/">Quickstarts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/latest/reference/cli-reference/">Reference</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/latest/contact/">Troubleshooting</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Concepts</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Deployment Modes</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Deployment Modes</h1><p>To understand the various ways STRM Privacy can be deployed, first, the separation between Data Plane and Control Plane
needs to be explained. The Data Plane and Control Plane work together to enable you to run data pipelines, where and
how you want.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="separation-of-concern">Separation of concern<a class="hash-link" href="#separation-of-concern" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="data-plane">Data Plane<a class="hash-link" href="#data-plane" title="Direct link to heading">​</a></h3><p>The purpose of the Data Plane, is to act as the set of software components that is responsible for receiving,
processing (i.e. applying encryption, privacy transformations, validations, etc.), and transporting data.
The Data Plane can either be hosted by STRM Privacy (<em>SaaS</em>), or be hosted elsewhere. The sections listed below are the
various ways the Data Plane can be deployed.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="control-plane">Control Plane<a class="hash-link" href="#control-plane" title="Direct link to heading">​</a></h3><p>The purpose of the Control Plane, is to instruct the Data Plane. The Control Plane only holds all required
meta-information
that is required to run your Data Plane. This means that the Control Plane is aware of all resources you have created
and knows the configuration. This way, all tools offered by STRM Privacy, such as
the <a href="https://github.com/strmprivacy/cli" target="_blank" rel="noopener noreferrer">CLI</a>
and the <a href="https://console.strmprivacy.io" target="_blank" rel="noopener noreferrer">console</a> can still be used, while your end-user data <strong>never</strong> leaves your
infrastructure, where your Data Plane is running. Furthermore, definitions of Data Contracts also reside in the Control
Plane.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="terminology">Terminology<a class="hash-link" href="#terminology" title="Direct link to heading">​</a></h3><p>Various terms are used interchangeably, among which:</p><ul><li><em>Data Plane</em> / <em>STRM Privacy Data Plane</em><br>The set of software components, installed through a Helm Chart, facilitating batch and streaming data tasks, among
which encryption and decryption of data.</li><li><em>Customer Cloud Deployment</em> / <em>Self-Hosted Installation</em><br>Your installation of the deployed Data Plane</li><li><em>License Type</em><br>A license is required in order to install and operate a self-hosted installation. Currently, we
support <code>SELF_HOSTED</code> (used for arbitrary Kubernetes clusters; tested in various managed Kubernetes offerings),
and <code>AWS_MARKETPLACE</code>.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="data-plane-components">Data Plane Components<a class="hash-link" href="#data-plane-components" title="Direct link to heading">​</a></h2><p>The Data Plane is composed of various software components. Each component has a specific purpose. Depending on your
needs, you may need to enable or disable specific components. All components can be found in
the <a href="https://github.com/strmprivacy/data-plane-helm-chart/blob/master/helm/values.yaml" target="_blank" rel="noopener noreferrer"><code>values.yaml</code></a> on GitHub. The
table below describes each component and its purpose:</p><table><thead><tr><th>Component</th><th>Purpose</th></tr></thead><tbody><tr><td>Event Gateway</td><td>Entrypoint for streaming events. Send events using one of our <a href="https://github.com/strmprivacy?q=driver&amp;type=all&amp;language=&amp;sort=" target="_blank" rel="noopener noreferrer">drivers</a></td></tr><tr><td>Web Socket</td><td>A web socket interface for debugging and listening to events that have been sent to a stream.</td></tr><tr><td>Batch Job Agent</td><td>A polling agent that communicates with the STRM Privacy Control Plane. Periodically checks whether new <a href="/docs/latest/concepts/data-processing/batch-jobs/">batch jobs</a> should be executed.</td></tr><tr><td>Batch Exporters Agent</td><td>A polling agent that communicates with the STRM Privacy Control Plane. Periodically checks whether new <a href="/docs/latest/quickstart/streaming/receiving-data/batch-export/">Batch Exporters</a> should be created.</td></tr><tr><td>Streams Agent</td><td>A polling agent that communicates with the STRM Privacy Control Plane. Periodically checks whether new Kafka topics and decrypters should be created.</td></tr><tr><td>Data Connector Agent</td><td>A polling agent that communicates with the STRM Privacy Control Plane. Periodically checks whether new Kubernetes secrets should be created. The secrets are meant to be used by e.g. Batch Exporters, to be able to export data to a storage bucket.</td></tr><tr><td>ESR Proxy</td><td>Event Statistics Recorder Proxy. Responsible for keeping track of the amount of streaming events that are sent to your Event Gateway instance.</td></tr><tr><td>Decrypter Config</td><td>A Kubernetes Config Map, meant as generic configuration for decrypter deployments, created by the Streams Agent.</td></tr><tr><td>Batch Exporter Config</td><td>A Kubernetes Config Map, meant as generic configuration for Batch Exporter deployments, created by the Batch Exporter Agent.</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="states">States<a class="hash-link" href="#states" title="Direct link to heading">​</a></h3><p>Periodically, various components that are continuously running applications, report their state to STRM Privacy. This
allows you to view and keep an eye on the various components via
the <a href="https://console.strmprivacy.io/installation/status" target="_blank" rel="noopener noreferrer">console</a>.
States can be any of the following:</p><table><thead><tr><th>State</th><th>Description</th></tr></thead><tbody><tr><td>Unknown</td><td>No status reported yet.</td></tr><tr><td>Provisioned</td><td>The Helm chart has been installed, but an application isn&#x27;t yet started</td></tr><tr><td>Running</td><td>The application is running correctly</td></tr><tr><td>Error</td><td>An error occurred, preventing the application to run correctly</td></tr><tr><td>Shutting down</td><td>The application is shutting down.</td></tr></tbody></table><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>Currently, we assume that the developer that has access to the STRM Privacy account that is allowed to install a Data
Plane, also has access to the Kubernetes cluster where the Data Plane is running. When errors occur, please check the
deployed component&#x27;s logs to see why the application is not running correctly.
We are working on better monitoring tools, please <a href="/docs/latest/contact/">contact us</a> if you are interested in this.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="choose-your-deployment-mode">Choose your deployment mode<a class="hash-link" href="#choose-your-deployment-mode" title="Direct link to heading">​</a></h2><p>Read more on the various deployment modes of the STRM Privacy Data Plane.</p><section class="row"><article class="col col--6 margin-bottom--lg"><a class="card padding--lg cardContainer_fWXF" href="/docs/latest/concepts/deployment-modes/saas/"><h2 class="text--truncate cardTitle_rnsV" title="SaaS">📄️<!-- --> <!-- -->SaaS</h2><p class="text--truncate cardDescription_PWke" title="Plug &#x27;n Play - Let STRM Privacy host your Data Plane for you.">Plug &#x27;n Play - Let STRM Privacy host your Data Plane for you.</p></a></article><article class="col col--6 margin-bottom--lg"><a class="card padding--lg cardContainer_fWXF" href="/docs/latest/concepts/deployment-modes/ccd/"><h2 class="text--truncate cardTitle_rnsV" title="Customer Cloud Deployments">📄️<!-- --> <!-- -->Customer Cloud Deployments</h2><p class="text--truncate cardDescription_PWke" title="Don&#x27;t want end-user data leaving your infrastructure? Host your own Data Plane.">Don&#x27;t want end-user data leaving your infrastructure? Host your own Data Plane.</p></a></article></section></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/latest/concepts/data-contracts/data-subjects/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Data Subjects</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/latest/concepts/deployment-modes/saas/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">SaaS</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#separation-of-concern" class="table-of-contents__link toc-highlight">Separation of concern</a><ul><li><a href="#data-plane" class="table-of-contents__link toc-highlight">Data Plane</a></li><li><a href="#control-plane" class="table-of-contents__link toc-highlight">Control Plane</a></li><li><a href="#terminology" class="table-of-contents__link toc-highlight">Terminology</a></li></ul></li><li><a href="#data-plane-components" class="table-of-contents__link toc-highlight">Data Plane Components</a><ul><li><a href="#states" class="table-of-contents__link toc-highlight">States</a></li></ul></li><li><a href="#choose-your-deployment-mode" class="table-of-contents__link toc-highlight">Choose your deployment mode</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright (C) 2020-2022 STRM Privacy</div></div></div></footer></div>
<script src="/assets/js/runtime~main.aa613385.js"></script>
<script src="/assets/js/main.e74abc3b.js"></script>
</body>
</html>